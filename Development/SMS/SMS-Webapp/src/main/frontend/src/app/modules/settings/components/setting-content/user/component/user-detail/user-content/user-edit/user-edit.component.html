<div class="full-page-content">
  <div class="page-title-area">
    <div class="row align-items-center content-header">
      <div class="col-sm-6">
        <div class="breadcrumbs-area clearfix">
          <h4 class="page-title pull-left">User Edit</h4>
        </div>
        <div class="breadcrumbs-area clearfix">
          <ul class="breadcrumbs pull-left mt-3">
            <li><a [routerLink]="[ROUTES.WELCOME]">Home</a></li>
            <li><span>{{userVto.userName}}</span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="full-page-content-area">

    <div class="offset-2 col-md-12">
      <app-alert [data]="alert"></app-alert>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="row pl-4 pr-4">
          <!-- Textual inputs start -->
          <div class="col-md-4">
            <div class="card">
              <div class="card-body">
                <h1 class="header-title">Profile Pic</h1>
                <hr>
                <div class="form-group d-inline-block col-12">
                  <label for="browse" class="col-form-label">Select Profile Picture</label>
                  <div class="input-group">
                    <div class="custom-file">
                      <input type="file" name="tags" class="custom-file-input" id="browse"
                             (change)="onFileSelected($event)"
                             #fileInput>
                      <label class="custom-file-label" for="browse" *ngIf="profileImg == null">Choose file</label>
                      <label class="custom-file-label" for="browse" *ngIf="profileImg != null">{{profileImg.name}}</label>
                    </div>
                  </div>
                </div>
                <img class="user-profile" *ngIf="userVto.imgPathURL != null && profileImgURL == null"
                     src="{{BASE_URL}}/user/{{userVto.id}}/img">
                <img class="user-profile" *ngIf="profileImgURL != null" src="{{profileImgURL}}">
              </div>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card">
              <div class="card-body">
                <h1 class="header-title">User Detail</h1>
                <hr>
                <form [formGroup]="formData">

                  <div class="form-group d-inline-block col-6">
                    <label for="firstname" class="col-form-label">First Name</label>
                    <input class="form-control" type="text" id="firstname" formControlName="firstName"
                           [ngClass]="{ 'is-invalid': edit.firstName.dirty && edit.firstName.errors != null }">

                    <div  class="invalid-feedback" *ngIf="edit.firstName.dirty && edit.firstName.errors != null">
                      <small *ngIf="edit.firstName.errors?.required">First Name is mandatory</small>
                      <small *ngIf="edit.firstName.errors?.maxlength">First Name allow max 15 Char</small>
                      <small *ngIf="edit.firstName.errors?.minlength">First Name allow min 3 Char</small>
                    </div>
                  </div>

                  <div class="form-group d-inline-block col-6">
                    <label for="lastname" class="col-form-label">Last Name</label>
                    <input class="form-control" type="text" id="lastname" formControlName="lastName"
                          [ngClass]="{'is-invalid': edit.lastName.dirty && edit.lastName.errors != null}">

                    <div class="invalid-feedback" *ngIf="edit.lastName.dirty && edit.lastName.errors != null">
                      <small *ngIf="edit.lastName.errors?.required">Last Name is mandatory</small>
                      <small *ngIf="edit.lastName.errors?.maxlength">Last Name allow max 15 Char</small>
                      <small *ngIf="edit.lastName.errors?.minlength">Last Name allow min 3 Char</small>
                    </div>
                  </div>


                  <div class="form-group d-inline-block col-6">
                    <label for="gender" class="col-form-label ">Gender</label>
                    <input class="form-control" type="text" id="gender" formControlName="gender">
                  </div>

                  <div class="form-group d-inline-block col-6">
                    <label for="birthDate" class="col-form-label">BirthDate</label>
                    <input class="form-control" type="date" id="birthDate" formControlName="birthDate"
                           [ngClass]="{'is-invalid': edit.birthDate.dirty && edit.birthDate.errors != null}">

                    <div class="invalid-feedback" *ngIf="edit.birthDate.dirty && edit.birthDate.errors != null">
                      <small *ngIf="edit.birthDate.errors?.required">BirthDate is mandatory</small>
                    </div>
                  </div>


                  <div class="form-group d-inline-block col-6">
                    <label for="email" class="col-form-label">E_mail</label>
                    <input class="form-control" type="email" id="email" formControlName="email"
                           [ngClass]="{'is-invalid': edit.email.dirty && edit.email.errors != null}">

                    <div class="invalid-feedback" *ngIf="edit.email.dirty && edit.email.errors != null">
                      <small *ngIf="edit.email.errors?.pattern">Should be valid Email</small>
                    </div>
                  </div>

                  <div class="form-group d-inline-block col-6">
                    <label for="phone" class="col-form-label">Phone</label>
                    <input class="form-control" type="text" id="phone" formControlName="t_phone"
                           [ngClass]="{'is-invalid': edit.t_phone.dirty && edit.t_phone.errors != null}">

                    <div class="invalid-feedback" *ngIf="edit.t_phone.dirty && edit.t_phone.errors != null">
                      <small *ngIf="edit.t_phone.errors?.required">Phone is mandatory</small>
                      <small *ngIf="edit.t_phone.errors?.maxlength">Phone allow max 11 number</small>

                    </div>
                  </div>

                  <hr>
                </form>
                <div class="card-action">
                  <button class="btn   btn-success btn-sm pull-right mr-2 mb-2" (click)="onSaveEdit()">Save</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
